# アルゴリズムデザインコンテスト2017（ADC2017）ルール説明

### 概要

<ul>
  <li>基本は、ADC2016と同じく「ナンバーリンク(３次元拡張)＋解の品質」</li>
　　　（解の品質） ＝ １／（（線長の合計）＋（線が曲がった回数））
  <li>１つ以上の盤面に数字が配置されており、同じ数字の間を線で接続する</li>
  <li>線は横方向(X)、縦方向(Y)、または隣接する盤面の同じ位置の間(Z)に引くことができる</li>
  <li>線は分岐してはいけない</li>
</ul>

<img src="https://github.com/dasadc/resources/blob/master/adc2017/images/image1.gif" width=230px alt="theme">
<BR/>
「ナンバーリンク」は株式会社ニコリの登録商標です。

### 詳細

<ul>
  <li>問題フォーマット</li>
    <ol>
      <li>盤面サイズは [X]X[Y]X[Z] の形で表される</li>
        <ol>
          <li>(X,Y): 盤面平面のマスの数を表す(X:横方向、Y:縦方向)</li>
          <li>Z    : 盤面の層の数を表す</li>
        </ol>
      <li>盤面平面のサイズは最大で72x72 (つまり、X,Y はそれぞれ 1 &lt;= X &lt;= 72, 1 &lt;= Y &lt;= 72  を満たす)</li>
      <li>層数は最大で8 (つまり、Z は 1 &lt;= Z &lt;= 8 を満たす)</li>
      <li>LINEの定義がある。LINE は 連続する自然数 (1,2,...) で表される</li>
      <li>各LINEは、LINEを表す数字と、端点を示す複数の位置 (x,y,z) により定義される
          (0 &lt;= x &lt; X, 0 &lt;= y &lt; Y, 1 &lt;= z &lt;= Z)</li>
        <ol>
          <li>LINEは分岐しない、つまり、端点を示す位置の数は2個とする</li>
          <li>LINEは層をまたいでも良いし、またがなくても良い。つまり、端点を示す2つの位置
              (x1,y1,z1), (x2,y2,z2) について、z1 == z2 でも z1 != z2 でも良い</li>
        </ol>
      <li>LINE数に上限なし（コンテストとしては、nlcheck.py(後日公開)を通ることは事前確認されたい）</li>
    </ol>

  <li>回答フォーマット</li>
    <ol>
      <li>盤面層数分の2次元回答フォーマットを並べたものがADC2017の回答フォーマットとなる</li>
      <li>2次元回答フォーマット(＝盤面の各層の回答フォーマット)は、各マスに数字を当てはめたものとする（2016年度までと同様）</li>
      <li>隣接する上下両方の盤面と接続されるマスは、盤面平面内ではどの線にも接続されていない孤立点となる</li>
    </ol>
</ul>
　　(問題フォーマット、回答フォーマットの例)  
  <a href="https://github.com/dasadc/resources/blob/master/adc2017/docs/sample_Q_A.zip">テキストダウンロード</a></BR></BR>
<img src="https://github.com/dasadc/resources/blob/master/adc2017/images/image3.gif" width=403px alt="Q format"></BR>
<img src="https://github.com/dasadc/resources/blob/master/adc2017/images/image4.gif" width=278px alt="A format"></BR>
<ul>
  <li>回答ルール</li>
    <ol>
      <li>問題で指定されたLINEの端点の間を分岐の無い線で接続する</li>
        <ol>
          <li>LINEの端点が存在するマスは、X, Y, Z方向に隣接する最大6個のマスのうち1個と接続される</li>
          <li>LINEを構成する端点以外のマスは、X, Y, Z方向に隣接する最大6個のマスのうち2個と接続される</li>
        </ol>
      <li>問題で指定されたLINEの端点に接続の無い線を引いてはいけない</li>
      <li>LINEに属さないマスは0を当てはめる</li>
    </ol>
</ul>
　(注)同じ数字の置かれたマスは接続されているものとみなす。コの字型の迂回がある回答などは</BR>
　　　上記のルールに違反する場合があるため注意すること</BR>
<img src="https://github.com/dasadc/resources/blob/master/adc2017/images/image2.gif" width=479px alt="round-about">
<ul>
  <li>その他</li>
    <ul>
      <li>問題ファイル、回答ファイルは１問１ファイルのテキスト形式。文字コードはASCII、改行コードはCR+LF(Windowsなど)、
      またはLF(UNIX, Linux, MacOS Xなど)</li>
      <li>参加１チームあたり最大３問まで問題を自作して当日提供可能</li>
      <li>問題ファイル、回答ファイルは、運営側が準備する会場の無線LANアクセスポイント(802.11b/g)経由で
      自動運営システムとの間でやり取りする</li>
      <li>一度回答を提出した問題を、再度回答するのは不可</li>
      <li>会場以外の場所(遠隔地)にソルバーを設置して、ネットワーク経由で利用するのは不可</li>
      <li>事前に作成した自作問題の解をそのまま提出するのは不可。自作の問題も競技時間内にソルバーで解くこと。</li>
      <li>求解手法を当日ポスターで発表すること</li>
    </ul>
</ul>

### 得点の計算方法
<ul>
  <li>正解ポイント：問題ごとに、正解のとき＋１ポイント</li>
  <li>品質ポイント：問題ごとに、正解した全チームへ１０ポイントを解の品質に応じて比例配分</li>
　　　（解の品質）＝ １／（（線長の合計）＋（線が曲った回数）） … 値が大きいほど良い解

　　　（線長は、マスの中心を線の起点／終点／曲がる点として測る。XYZ方向とも１マスが長さ１）
  <li>出題ボーナスポイント：参加チームが持参した問題を自分で正解したとき、ボーナスで＋１ポイント</li>
</ul>
<BR/>
Copyright (c) 2017 DAシンポジウム実行委員会
